<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM64x MCU+ SDK: FreeRTOS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM64x MCU+ SDK
   &#160;<span id="projectnumber">08.01.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('KERNEL_FREERTOS_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">FreeRTOS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md302">Introduction</a></li>
<li class="level1"><a href="#FREERTOS_SUPPORTED_FEATURES">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md303">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md304">Features Not Supported</a></li>
<li class="level1"><a href="#autotoc_md305">Important files and directory structure</a></li>
<li class="level1"><a href="#autotoc_md306">FreeRTOS usage guidelines</a></li>
<li class="level1"><a href="#autotoc_md307">Additional references</a></li>
<li class="level1"><a href="#autotoc_md308">See also</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_kernel_os_freertos"></a></p>
<h1><a class="anchor" id="autotoc_md302"></a>
Introduction</h1>
<p>FreeRTOS is a market-leading real-time operating system (RTOS) for microcontrollers and small microprocessors. Distributed freely under the MIT open source license, FreeRTOS includes a kernel and a growing set of libraries suitable for use across all industry sectors. FreeRTOS is built with an emphasis on reliability and ease of use.</p>
<p>MCU+ SDK supports FreeRTOS on below CPUS</p><ul>
<li>ARM R5F</li>
<li>ARM M4F</li>
<li>ARM A53 (single core only)</li>
</ul>
<h1><a class="anchor" id="FREERTOS_SUPPORTED_FEATURES"></a>
Features Supported</h1>
<ul>
<li>FreeRTOS Kernel 10.4.3<ul>
<li>Tasks, semaphores, mutex, queues, timers, list, heap, event groups</li>
<li>preemptive priority based scheduler</li>
<li>static and/or dynamic memory allocation mode</li>
</ul>
</li>
<li>FreeRTOS+POSIX<ul>
<li>Limited POSIX API wrappers on top of FreeRTOS APIs</li>
<li>Clock, message queue, pthread, pthread cond, pthread mutex, semaphore, timer</li>
</ul>
</li>
<li>In order to keep the device drivers agnostic of FreeRTOS or NORTOS, additionally below <a class="el" href="KERNEL_DPL_PAGE.html">Driver Porting Layer (DPL)</a> APIs are implemented to call FreeRTOS APIs underneath,<ul>
<li>Clock, task, semaphore, heap, cache, MPU, debug logs, HW interrupts, HW timers</li>
</ul>
</li>
<li>Floating point save/restore with tasks (make sure to call portTASK_USES_FLOATING_POINT() before using floating point operations )</li>
<li>R5F ISRs,<ul>
<li>IRQ mode,<ul>
<li>FPU save/restore is supported.</li>
</ul>
</li>
</ul>
</li>
<li>M4F ISRs,<ul>
<li>nested interrupts supported</li>
</ul>
</li>
<li>A53 ISRs,<ul>
<li>IRQ mode,<ul>
<li>nested interrupts supported</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md303"></a>
SysConfig Features</h1>
<dl class="section note"><dt>Note</dt><dd>It is strongly recommend to use SysConfig where it is available instead of using direct SW API calls. This will help simplify the SW application and also catch common mistakes early in the development cycle.</dd></dl>
<p>SysConfig can be used to configure below modules with FreeRTOS</p><ul>
<li>Clock module, to setup system tick timer including the tick duration</li>
<li>Debug Log module, to select the console to use for logging as well as enable/disable logging zones</li>
<li>MPU ARMv7, to setup different MPU regions for R5F and M4F CPUs</li>
<li>MMU ARMv8, to setup different MMU regions for A53 CPUs</li>
<li>Address Translate module, to setup address translation regions, needed for M4F</li>
<li>HW Timer module, to setup HW timer available on the SOC, including enabling timer interrupt and ISR registration</li>
</ul>
<h1><a class="anchor" id="autotoc_md304"></a>
Features Not Supported</h1>
<ul>
<li>Co-routines, stream buffer are not enabled and are not compiled by default. Users can add these to the FreeRTOS config and makefile if they want to use these features.</li>
<li>Tickless IDLE mode</li>
<li>Task level memory protection wrapper</li>
<li>R5F ISRs,<ul>
<li>IRQ mode,<ul>
<li>nested interrupts is disabled, due to issues in some corner cases.</li>
</ul>
</li>
<li>FIQ mode,<ul>
<li>nested interrupts not supported</li>
<li>FPU save/restore not supported.</li>
</ul>
</li>
</ul>
</li>
<li>M4F ISRs,<ul>
<li>FPU save/restore not supported.</li>
</ul>
</li>
<li>A53 ISRs,<ul>
<li>FPU save/restore not supported.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md305"></a>
Important files and directory structure</h1>
<p>FreeRTOS source is distributed along with MCU+ SDK and given below are some important files and folders related to FreeRTOS.</p>
<table class="doxtable">
<tr>
<th>Folder/Files </th><th>Description  </th></tr>
<tr>
<td colspan="2" bgcolor="#F0F0F0">${SDK_INSTALL_PATH}/source/kernel/ </td></tr>
<tr>
<td>dpl/ </td><td>APIs to access FreeRTOS features in a OS agnostic way  </td></tr>
<tr>
<td colspan="2" bgcolor="#F0F0F0">${SDK_INSTALL_PATH}/source/kernel/freertos </td></tr>
<tr>
<td>lib/ </td><td>FreeRTOS library to link against. Linking to the library in this path enables the application to operate in FreeRTOS mode   </td></tr>
<tr>
<td>config/ </td><td>FreeRTOS and FreeRTOS POSIX configuration header files for different CPUs within a SOC.  </td></tr>
<tr>
<td>FreeRTOS-Kernel/ </td><td>FreeRTOS Kernel source code. MCU+ SDK simply clones the code from FreeRTOS github and does not modify anything in this folder  </td></tr>
<tr>
<td>FreeRTOS-POSIX/ </td><td>FreeRTOS POSIX wrapper source code. MCU+ SDK simply clones the code from FreeRTOS POSIX github and does not modify anything in this folder  </td></tr>
<tr>
<td>portable/ </td><td>MCU+ SDK FreeRTOS porting related files for different CPUs  </td></tr>
<tr>
<td colspan="2" bgcolor="#F0F0F0">${SDK_INSTALL_PATH}/source/kernel/freertos/dpl </td></tr>
<tr>
<td>common/ </td><td>FreeRTOS DPL APIs that are common across all CPUs  </td></tr>
<tr>
<td>m4/ </td><td>FreeRTOS DPL APIs that are specific to M4F CPUs  </td></tr>
<tr>
<td>r5/ </td><td>FreeRTOS APIs that are specific to R5F CPUs  </td></tr>
<tr>
<td>a53/ </td><td>FreeRTOS APIs that are specific to A53 CPUs  </td></tr>
</table>
<p>In addition to above files, to enable features like HW interrupts, cache, MPU, the FreeRTOS library in MCU+ SDK also shares some code with NORTOS, see to makefile in the folder <code>source\kernel\freertos</code> to see the exact list of files that are included to build a freertos library.</p>
<h1><a class="anchor" id="autotoc_md306"></a>
FreeRTOS usage guidelines</h1>
<p>See <a class="el" href="KERNEL_FREERTOS_IMPORTANT_GUIDELINES_PAGE.html">FreeRTOS usage guidelines</a> for FreeRTOS usage guidelines and comparison to SysBIOS.</p>
<h1><a class="anchor" id="autotoc_md307"></a>
Additional references</h1>
<p>Given below are some references to learn more about FreeRTOS.</p>
<table class="doxtable">
<tr>
<th>Document Description </th><th>Web link  </th></tr>
<tr>
<td>Easy to read FreeRTOS book </td><td><a href="https://www.freertos.org/Documentation/RTOS_book.html">https://www.freertos.org/Documentation/RTOS_book.html</a>  </td></tr>
<tr>
<td>FreeRTOS user docs </td><td><a href="https://www.freertos.org/features.html">https://www.freertos.org/features.html</a>  </td></tr>
<tr>
<td>User API reference </td><td><a href="https://www.freertos.org/a00106.html">https://www.freertos.org/a00106.html</a>  </td></tr>
<tr>
<td>FreeRTOS core kernel source code </td><td><a href="https://github.com/FreeRTOS/FreeRTOS-Kernel">https://github.com/FreeRTOS/FreeRTOS-Kernel</a>  </td></tr>
<tr>
<td>FreeRTOS core kernel example source code </td><td><a href="https://github.com/FreeRTOS/FreeRTOS/tree/master/FreeRTOS">https://github.com/FreeRTOS/FreeRTOS/tree/master/FreeRTOS</a>  </td></tr>
<tr>
<td>Additional FreeRTOS.org maintained libraries (POSIX, TCP, Filesystem, â€¦) </td><td><a href="https://www.freertos.org/FreeRTOS-Labs/index.html">https://www.freertos.org/FreeRTOS-Labs/index.html</a> <br  />
 <a href="https://www.freertos.org/FreeRTOS-Plus/index.html">https://www.freertos.org/FreeRTOS-Plus/index.html</a> <br  />
 <a href="https://github.com/FreeRTOS">https://github.com/FreeRTOS</a>  </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md308"></a>
See also</h1>
<p><a class="el" href="KERNEL_DPL_PAGE.html">Driver Porting Layer (DPL)</a>, <a class="el" href="KERNEL_NORTOS_PAGE.html">NO RTOS</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
